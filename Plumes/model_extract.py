#!/usr/bin/env python
# test out the plume model with an extreme case

import sys
area_list = [(0,11),(1,4),(2,3),(3,2),(4,4),(5,2),(6,2),(7,1),(8,2),(9,1),(10,1),(11,2),(12,1),(13,2),(14,1),(15,1),(16,2),(17,1),(18,1),(19,1),(20,1),(21,1),(22,2),(23,2),(24,3),(25,2),(26,1),(27,2),(28,1),(29,2),(30,1),(31,1),(32,3),(33,1),(34,1),(35,2),(36,1),(37,2),(38,2),(39,1),(40,2),(41,2),(42,3),(43,3),(44,2),(45,2),(46,1),(47,2),(48,2),(49,2),(50,1),(52,1),(53,2),(54,1),(55,2),(56,1),(57,2),(58,2),(59,4),(60,3),(61,4),(62,5),(63,5),(64,4),(65,4),(66,4),(67,6),(68,3),(69,4),(70,4),(71,4),(72,4),(73,4),(74,3),(75,4),(76,4),(77,4),(78,4),(79,8),(80,9),(81,9),(82,5),(83,8),(84,6),(85,5),(86,4),(87,4),(88,4),(89,3),(90,3),(91,2),(92,3),(93,2),(94,2),(95,2),(96,3),(97,2),(98,3),(99,2),(100,2),(101,2),(102,2),(103,3),(104,2),(105,2),(106,1),(107,3),(108,3),(109,2),(110,3),(111,3),(112,3),(113,3),(114,3),(115,4),(116,3),(117,3),(118,4),(119,4),(120,6),(121,4),(122,5),(123,4),(124,6),(125,6),(126,7),(127,6),(128,6),(129,7),(130,5),(131,7),(132,7),(133,8),(134,6),(135,8),(136,7),(137,8),(138,9),(139,9),(140,10),(141,11),(142,10),(143,11),(144,11),(145,10),(146,10),(147,12),(148,11),(149,15),(150,14),(151,14),(152,13),(153,15),(154,13),(155,15),(156,13),(157,14),(158,14),(159,16),(160,13),(161,14),(162,14),(163,14),(164,16),(165,14),(166,16),(167,15),(168,16),(169,16),(170,15),(171,16),(172,16),(173,15),(174,14),(175,15),(176,16),(177,15),(178,15),(179,16),(180,17),(181,14),(182,14),(183,14),(184,14),(185,14),(186,16),(187,15),(188,16),(189,15),(190,17),(191,17),(192,16),(193,17),(194,16),(195,16),(196,16),(197,15),(198,15),(199,17),(200,16),(201,16),(202,17),(203,19),(204,20),(205,22),(206,25),(207,25),(208,29),(209,29),(210,32),(211,34),(212,33),(213,37),(214,41),(215,39),(216,41),(217,40),(218,46),(219,45),(220,53),(221,53),(222,54),(223,55),(224,58),(225,57),(226,64),(227,64),(228,70),(229,72),(230,75),(231,80),(232,81),(233,80),(234,82),(235,87),(236,90),(237,98),(238,94),(239,101),(240,101),(241,105),(242,103),(243,106),(244,110),(245,109),(246,114),(247,115),(248,121),(249,123),(250,125),(251,131),(252,134),(253,138),(254,141),(255,149),(256,151),(257,155),(258,160),(259,166),(260,166),(261,177),(262,171),(263,173),(264,173),(265,176),(266,177),(267,183),(268,181),(269,182),(270,180),(271,185),(272,182),(273,187),(274,182),(275,181),(276,184),(277,180),(278,174),(279,165),(280,158),(281,148),(282,142),(283,136),(284,127),(285,124),(286,120),(287,115),(288,110),(289,105),(290,101),(291,96),(292,94),(293,94),(294,92),(295,93),(296,89),(297,85),(298,88),(299,88),(300,89),(301,88),(302,90),(303,86),(304,88),(305,91),(306,83),(307,86),(308,83),(309,81),(310,82),(311,77),(312,79),(313,80),(314,76),(315,77),(316,74),(317,75),(318,75),(319,74),(320,79),(321,75),(322,74),(323,74),(324,72),(325,72),(326,73),(327,74),(328,76),(329,79),(330,78),(331,83),(332,82),(333,85),(334,85),(335,84),(336,82),(337,84),(338,81),(339,81),(340,73),(341,67),(342,62),(343,57),(344,53),(345,47),(346,43),(347,37),(348,33),(349,30),(350,24),(351,22),(352,15),(353,13),(354,11),(355,9),(356,8),(357,5),(358,3),(359,1)]

pct = 0.005
inits = [0.05, 0.1, 1, 5, 10, 50, 100, 500, 1000, 5000, 10000, 50000, 100000, 500000, 1000000, 5000000, 10000000]
limits = {'FERTC_SUM': 0.0006000, 'PESTC_SUM': 0.0001, 'IMPV_SUM': 0.0003438557}

maxdist = {}
for (limit_name, limit) in limits.items():
    print "\n%s\n----------" % limit_name
    for init in inits:
        orig = init
        for (dist,count) in area_list:
            if init * pct < limit:
                remain = 0
                percell = init / float(count)
                if init != 0:
                    print "%-10s:%5d, %s" % (orig, dist, percell)
            else:
                percell = init * pct
                sum = percell * float(count)
                remain = init - sum

            init = remain
